    # Практическое задание: Создание API с CRUD-операциями и миграциями через FluentMigrator

## Цель:
Научиться работать с FluentMigrator для создания базы данных и таблиц, а также реализовывать CRUD-операции через Web API с использованием Dapper.

---

## Техническое задание:
### 1. Создать базу данных и миграции  

Создать базу данных `LibrarySystem` в PostgreSQL.  

Миграции должны:  
- Создавать две таблицы:  
  1. `Books` со следующей структурой:  
     - `Id` — Primary Key, автоинкремент;  
     - `Title` — название книги, строка длиной до 200 символов;  
     - `AuthorId` — внешний ключ, ссылающийся на таблицу `Authors`;  
     - `PublishedYear` — год издания, целое число;  
     - `Genre` — жанр книги, строка длиной до 50 символов;  
     - `IsAvailable` — статус доступности, тип `boolean`.  

  2. `Authors` со следующей структурой:  
     - `Id` — Primary Key, автоинкремент;  
     - `Name` — имя автора, строка длиной до 100 символов;  
     - `Country` — страна автора, строка длиной до 50 символов.  

#### Использовать `FluentMigrator`:
- Для создания и управления миграциями.
- Реализовать миграцию для создания таблиц `Books` и `Authors`.
- Настроить автоматическое применение миграций при запуске API.

---

### 2. Реализация CRUD-операций и практики JOIN

Реализовать CRUD-операции для работы с таблицами `Books` и `Authors` через Web API.  

#### Основные операции:
- **POST `/api/authors`** — добавить нового автора.  
- **POST `/api/books`** — добавить новую книгу, указав `AuthorId`.  
- **GET `/api/books`** — получить список всех книг с информацией об их авторах (использовать `JOIN`).  
- **GET `/api/authors/{id}/books`** — получить список всех книг указанного автора.  
- **PUT `/api/books/{id}`** — обновить информацию о книге (например, изменить статус доступности).  
- **DELETE `/api/books/{id}`** — удалить книгу.  

#### Пример использования JOIN:
- При получении списка книг (`GET /api/books`) вернуть данные следующего формата:  
  ```json
  [
      {
          "Id": 1,
          "Title": "Book Title",
          "Author": "Author Name",
          "PublishedYear": 2020,
          "Genre": "Fiction",
          "IsAvailable": true
      }
  ]
### 3. Подключение к базе данных
Добавить строку подключения в файл `appsettings.json`. Пример строки подключения:
